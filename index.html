<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Functional Log In</title>
</head>
<body>
    <form onsubmit="event.preventDefault(); signUp();">
        <input type="text" name="user" id="a_username" placeholder="Username" required>
        <input type="password" name="password" id="a_pass" placeholder="Password" required>
        <button type="submit">Sign Up</button>
    </form>
    <form onsubmit="event.preventDefault(); login();">
        <input type="text" name="txt_user" id="username" placeholder="Username" required>
        <input type="password" name="password" id="pass" placeholder="Password" required>
        <button type="submit">Log In</button>
    </form>

    <script>
        function signUp() {
            const Aname = document.getElementById("a_username").value;
            const Pass = document.getElementById("a_pass").value;
            let users = JSON.parse(localStorage.getItem("users")) || [];
            users.push({
                username: Aname,
                password: Pass
            });
            localStorage.setItem('users', JSON.stringify(users));
            console.log(Aname, Pass);
            document.getElementById("a_username").value = '';
            document.getElementById("a_pass").value = '';
            alert("Successfully Signed Up!");
        }

        function login() {
            const Aname = document.getElementById("username").value;
            const Pass = document.getElementById("pass").value;
            const users = JSON.parse(localStorage.getItem("users")) || [];
            const user = users.find(user => user.username === Aname && user.password === Pass);
            if (user) {
                alert("Successfully Logged In");
                console.log("Logged in user:", user);
                document.getElementById("username").value = '';
                document.getElementById("pass").value = '';
            } else {
                alert("Invalid credentials");    
            }
        }
    </script>
</body>
</html>